"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fetchWithTimeout = fetchWithTimeout;
const abort_controller_1 = require("abort-controller");
async function fetchWithTimeout(fetch, url, init) {
    const abortController = new abort_controller_1.AbortController();
    const timeoutMs = init?.timeoutMs ?? 5000;
    const timeout = setTimeout(() => abortController.abort(), timeoutMs);
    try {
        return await fetch(url, {
            ...init,
            signal: abortController.signal,
        });
    }
    finally {
        clearTimeout(timeout);
    }
}
//# sourceMappingURL=fetch.js.map